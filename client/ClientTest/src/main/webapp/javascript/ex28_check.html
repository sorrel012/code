<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <h1>체크 박스</h1>

    <form name="form1">
        <input type="checkbox" name="cb1">
        <input type="button" value="확인" name="btn1">
    </form>

    <hr>

    <h2>이용 약관</h2>

    <div style="width: 500px; height: 150px; overflow: auto; border: 1px solid black; padding: 10px;">lorem500</div>

    <hr>

    <label>
        <input type="checkbox" name="cbagree">
        약관에 동의합니다.
    </label>
    <hr>
    <input type="button" value="다음 단계로" disabled name="btnnext" onclick="location.href='ex27_form.html'">

    <hr>

    <h1>받은 편지함</h1>

    <table border="1" width="500px">
        <tr>
            <th><input type="checkbox" name="cball"></th>
            <th>번호</th>
            <th>제목</th>
            <th>보낸이</th>
            <th>날짜</th>
        </tr>
        <tr>
            <td><input type="checkbox" name="cbitem"></td>
            <td>10</td>
            <td>안녕하세요. 광고메일입니다.</td>
            <td>홍길동</td>
            <td>2023-04-24</td>
        </tr>
        <tr>
            <td><input type="checkbox" name="cbitem"></td>
            <td>10</td>
            <td>안녕하세요. 광고메일입니다.</td>
            <td>홍길동</td>
            <td>2023-04-24</td>
        </tr>
        <tr>
            <td><input type="checkbox" name="cbitem"></td>
            <td>10</td>
            <td>안녕하세요. 광고메일입니다.</td>
            <td>홍길동</td>
            <td>2023-04-24</td>
        </tr>
        <tr>
            <td><input type="checkbox" name="cbitem"></td>
            <td>10</td>
            <td>안녕하세요. 광고메일입니다.</td>
            <td>홍길동</td>
            <td>2023-04-24</td>
        </tr>
    </table>

    <script>

        var cb1 = document.form1.cb1;

        document.form1.btn1.onclick = m1;

        function m1() {
            // cb1.checked=true;
            cb1.checked = !cb1.checked;
        }

        // cb1.onclick = m2;
        cb1.onchange = m2; //입력 컨트롤의 값이 변할 때 발생하는 이벤트

        function m2() {
            console.log(cb1.checked);            
        }

        var cbagree = document.all.cbagree;
        var btnnext = document.all.btnnext;

        cbagree.onchange = m3;

        function m3() {
            if (cbagree.checked) {
                btnnext.disabled = false;
            } else {
                btnnext.disabled = true;
            }
        }

        var cball = document.all.cball;
        var cbitem = document.all.cbitem; //배열

        cball.onchange = m4;

        function m4() {

            for (var i = 0; i < cbitem.length; i++) {
                cbitem[i].checked = cball.checked;
            }

        }

    </script>

</body>
</html>